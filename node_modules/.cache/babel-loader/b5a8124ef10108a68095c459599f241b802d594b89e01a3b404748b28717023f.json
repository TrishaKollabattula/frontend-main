{"ast":null,"code":"import _objectSpread from\"C:/Users/Vibek Rana/Pictures/frontend-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";//src/components/Survey.js - Final version with logo upload\nimport React,{useState,useEffect}from'react';import'./Survey.css';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Survey=()=>{const navigate=useNavigate();const[currentStep,setCurrentStep]=useState('business-type');const[businessType,setBusinessType]=useState('');const[surveyAnswers,setSurveyAnswers]=useState({});const[isSubmitting,setIsSubmitting]=useState(false);const[isDarkMode,setIsDarkMode]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');const[numColors,setNumColors]=useState(2);const[logoFile,setLogoFile]=useState(null);const[logoPreview,setLogoPreview]=useState(null);const[uploadingLogo,setUploadingLogo]=useState(false);useEffect(()=>{const saved=localStorage.getItem('theme');if(saved==='dark')setIsDarkMode(true);},[]);const toggleTheme=()=>{const newMode=!isDarkMode;setIsDarkMode(newMode);localStorage.setItem('theme',newMode?'dark':'light');};const businessTypes=[{value:'other',label:'Other',icon:'üè¢',desc:'Any other business type'},{value:'finance',label:'Finance',icon:'üí∞',desc:'Banking & Financial Services'},{value:'education',label:'Education',icon:'üéì',desc:'Schools & Learning'},{value:'technology',label:'Technology',icon:'üíª',desc:'Tech & Software'},{value:'real-estate',label:'Real Estate',icon:'üè†',desc:'Property & Housing'},{value:'healthcare',label:'Healthcare',icon:'üè•',desc:'Medical & Wellness'},{value:'ecommerce',label:'E-commerce',icon:'üõí',desc:'Online Retail'},{value:'restaurant',label:'Restaurant',icon:'üçΩÔ∏è',desc:'Food & Dining'}];// Logo upload question that appears for all business types\nconst logoQuestion={id:'business_logo',question:'Upload your business logo (optional but recommended)',type:'file',placeholder:'Choose your logo file',hint:'PNG, JPG, or SVG format. Max size: 5MB. This will be used on your promotional content.',accept:'image/png,image/jpeg,image/jpg,image/svg+xml'};const commonQuestions=[logoQuestion,// Logo upload as first common question\n{id:'contact_details',question:'Please provide your contact details for promotional image footers',type:'textarea',placeholder:'Website: www.example.com\\nContact: +1234567890',hint:'This will appear on your promotional content'},{id:'color_theme',question:'Choose your brand color theme for promotional images',type:'multi-color',placeholder:'Select colors',hint:'Pick 2-5 colors that represent your brand'},{id:'post_schedule_time',question:'What time should we schedule your daily social media posts?',type:'time',placeholder:'Select time',hint:'Choose the best time to reach your audience'}];const getQuestionsForBusinessType=type=>{const questionSets={'finance':[{id:'financial_products',question:'What financial products/services do you offer?',type:'textarea',placeholder:'e.g., Loans, Investment, Insurance...',hint:'Be specific about your main offerings'},{id:'target_audience',question:'Who is your target audience?',type:'text',placeholder:'e.g., individuals, businesses, investors',hint:'This helps us tailor your content'},{id:'social_tone',question:'What tone should your content convey?',type:'checkbox',options:['Trustworthy','Professional','Approachable'],hint:'You can select multiple'},{id:'image_focus',question:'What should your visuals emphasize?',type:'checkbox',options:['Trust and security','Growth and success','Expert advice']},{id:'visual_style',question:'Visual style preference:',type:'checkbox',options:['Professional corporate settings','Personal customer stories']},{id:'include_data_visuals',question:'Include infographics or data visualizations?',type:'radio',options:['Yes','No','Sometimes']},...commonQuestions],'education':[{id:'educational_services',question:'What educational programs do you offer?',type:'textarea',placeholder:'Describe your courses, degrees, training...',hint:'Help us understand your offerings'},{id:'primary_audience',question:'Who are your primary audiences?',type:'checkbox',options:['Students','Parents','Faculty','Alumni','Community']},{id:'key_messages',question:'Key messages about your institution:',type:'textarea',placeholder:'What makes your institution special?'},{id:'image_showcase',question:'What should visuals showcase?',type:'checkbox',options:['Student achievements','Campus life','Faculty expertise']},{id:'learning_format',question:'Highlight which format?',type:'checkbox',options:['In-person activities','Online learning platforms']},{id:'feature_content',question:'Feature in your content:',type:'checkbox',options:['Events','Guest lectures','Community involvement']},...commonQuestions],'technology':[{id:'tech_products',question:'Main tech products/services:',type:'textarea',placeholder:'SaaS, Hardware, Apps, Consulting...',hint:'What technology solutions do you provide?'},{id:'target_audience',question:'Target audience:',type:'checkbox',options:['Tech professionals','Consumers','Businesses','Startups','Enterprise']},{id:'brand_values',question:'Brand values to convey:',type:'checkbox',options:['Innovation','Reliability','User-friendliness','Cutting-edge','Trustworthy']},{id:'design_preference',question:'Design style preference:',type:'checkbox',options:['Futuristic, sleek designs','Practical, real-world visuals']},{id:'image_focus',question:'Image focus:',type:'checkbox',options:['Product demonstrations','Conceptual innovation']},{id:'include_interactive_content',question:'Include animated/interactive visuals?',type:'radio',options:['Yes','No','Sometimes']},...commonQuestions],'real-estate':[{id:'property_specialization',question:'Property specialization:',type:'checkbox',options:['Residential','Commercial','Luxury','Rental','Investment']},{id:'main_clients',question:'Main clients:',type:'checkbox',options:['Buyers','Renters','Investors','First-time buyers','Commercial clients']},{id:'selling_points',question:'Key selling points:',type:'textarea',placeholder:'Location, pricing, amenities...'},{id:'image_showcase',question:'Showcase in visuals:',type:'checkbox',options:['Property interiors','Neighborhood lifestyles','Renovations']},{id:'feature_client_stories',question:'Feature client testimonials?',type:'radio',options:['Yes','No','Sometimes']},...commonQuestions],'healthcare':[{id:'healthcare_services',question:'Healthcare services/specialties:',type:'textarea',placeholder:'General care, Surgery, Pediatrics...',hint:'List your main services'},{id:'primary_audience',question:'Primary audience:',type:'checkbox',options:['Patients','Families','Healthcare professionals','Community','Insurance providers']},{id:'core_values',question:'Core values to communicate:',type:'checkbox',options:['Trust','Care','Innovation','Expertise','Compassion']},{id:'image_highlight',question:'Highlight in images:',type:'checkbox',options:['Medical staff','Patient care','Healthcare technology']},{id:'visual_focus',question:'Visual focus:',type:'checkbox',options:['Wellness campaigns','Testimonials','Facilities']},{id:'include_treatment_visuals',question:'Include treatment visuals/case studies?',type:'radio',options:['Yes','No','With patient consent only']},...commonQuestions],'ecommerce':[{id:'product_types',question:'Main product categories:',type:'textarea',placeholder:'Fashion, Electronics, Home goods...',hint:'What do you sell?'},{id:'main_customers',question:'Main customer segments:',type:'text',placeholder:'Young adults, professionals, families...'},{id:'brand_personality',question:'Brand personality:',type:'checkbox',options:['Fun','Professional','Creative','Trendy','Trustworthy']},{id:'image_style',question:'Image style:',type:'checkbox',options:['Product-focused images','Lifestyle shots']},{id:'content_highlight',question:'Highlight in content:',type:'checkbox',options:['Seasonal sales','New arrivals','Behind-the-scenes']},{id:'ugc_strategy',question:'User-generated content strategy?',type:'radio',options:['Yes','No','Considering it']},...commonQuestions],'restaurant':[{id:'cuisine_experience',question:'Cuisine & dining experience:',type:'textarea',placeholder:'Italian fine dining, casual cafe...',hint:'Describe your restaurant concept'},{id:'typical_customers',question:'Typical customers:',type:'text',placeholder:'Families, couples, business professionals...'},{id:'unique_qualities',question:'Unique qualities/atmosphere:',type:'textarea',placeholder:'What makes your restaurant special?'},{id:'image_preference',question:'Image preferences:',type:'checkbox',options:['Food presentation','Dining ambiance','Kitchen activity']},{id:'content_highlight',question:'Highlight in content:',type:'checkbox',options:['Seasonal menus','Special events','Customer interactions']},{id:'sustainability',question:'Promote sustainable sourcing/dietary options?',type:'radio',options:['Yes','No','Sometimes']},...commonQuestions],'other':[{id:'business_description',question:'Business type & description:',type:'textarea',placeholder:'Tell us about your business...',hint:'Be as detailed as possible'},{id:'target_audience',question:'Target audience:',type:'text',placeholder:'Who are your customers?'},{id:'key_messages',question:'Key messages/values:',type:'textarea',placeholder:'What do you want to communicate?',hint:'Your brand message'},{id:'image_style',question:'Preferred image style:',type:'checkbox',options:['Professional','Casual','Artistic','Modern','Traditional']},{id:'visual_focus',question:'Visual focus:',type:'checkbox',options:['Products','Services','Customer stories']},{id:'preferred_themes',question:'Preferred colors/moods/themes:',type:'textarea',placeholder:'Describe your visual preferences...'},...commonQuestions]};return questionSets[type]||questionSets['other'];};const handleBusinessTypeSelect=type=>{setBusinessType(type);setCurrentStep('questions');};const handleAnswerChange=(questionId,value)=>{setSurveyAnswers(prev=>_objectSpread(_objectSpread({},prev),{},{[questionId]:value}));};const handleNumColorsChange=e=>{const count=parseInt(e.target.value,10);setNumColors(count);const colors=Array(count).fill('#000000');handleAnswerChange('color_theme',colors);};const handleColorChange=(index,value)=>{const colors=[...(surveyAnswers['color_theme']||Array(numColors).fill('#000000'))];colors[index]=value;handleAnswerChange('color_theme',colors);};// Handle logo file selection\nconst handleLogoChange=e=>{const file=e.target.files[0];if(!file)return;// Validate file type\nconst allowedTypes=['image/png','image/jpeg','image/jpg','image/svg+xml'];if(!allowedTypes.includes(file.type)){setError('Please upload a PNG, JPG, or SVG file');return;}// Validate file size (5MB max)\nconst maxSize=5*1024*1024;// 5MB in bytes\nif(file.size>maxSize){setError('Logo file size must be less than 5MB');return;}setLogoFile(file);// Create preview URL\nconst reader=new FileReader();reader.onloadend=()=>{setLogoPreview(reader.result);};reader.readAsDataURL(file);setError('');};// Remove logo\nconst handleRemoveLogo=()=>{setLogoFile(null);setLogoPreview(null);handleAnswerChange('business_logo',null);};// Convert logo to base64 for storage\nconst convertLogoToBase64=file=>{return new Promise((resolve,reject)=>{const reader=new FileReader();reader.readAsDataURL(file);reader.onload=()=>resolve(reader.result);reader.onerror=error=>reject(error);});};const handleSubmitSurvey=async()=>{setIsSubmitting(true);setError('');try{var _logoData;// CRITICAL: Get the registered userId (username) from localStorage\nconst registeredUserId=localStorage.getItem('registeredUserId')||localStorage.getItem('username')||null;console.log('Survey submission - userId from localStorage:',registeredUserId);if(!registeredUserId){setError('Please complete registration first before submitting survey');setIsSubmitting(false);return;}// Convert logo to base64 if uploaded\nlet logoData=null;if(logoFile){setUploadingLogo(true);try{const base64Data=await convertLogoToBase64(logoFile);logoData={fileName:logoFile.name,fileType:logoFile.type,fileSize:logoFile.size,data:base64Data};console.log('Logo converted to base64, size:',logoFile.size,'bytes');}catch(error){console.error('Error converting logo:',error);setError('Failed to process logo. Continuing without it...');}finally{setUploadingLogo(false);}}// Include logo in survey answers\nconst finalAnswers=_objectSpread(_objectSpread({},surveyAnswers),{},{business_logo:logoData});const surveyData={userId:registeredUserId,// This will be the username\nbusinessType,answers:finalAnswers,timestamp:new Date().toISOString()};console.log('Submitting survey data:',{userId:surveyData.userId,businessType:surveyData.businessType,hasLogo:!!logoData,logoFileName:(_logoData=logoData)===null||_logoData===void 0?void 0:_logoData.fileName});const response=await fetch('https://4fqbpp1yya.execute-api.ap-south-1.amazonaws.com/prod/user/register',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({surveyData})});if(!response.ok){const errorText=await response.text();throw new Error(\"Failed to submit survey: \".concat(errorText));}const result=await response.json();console.log('Survey submission result:',result);setSuccess('Survey completed successfully! Redirecting to login...');setTimeout(()=>{navigate('/login');},1500);}catch(error){console.error('Error processing survey:',error);setError('Error processing survey. Please try again.');}finally{setIsSubmitting(false);setUploadingLogo(false);}};const renderQuestionInput=question=>{switch(question.type){case'file':return/*#__PURE__*/_jsxs(\"div\",{className:\"logo-upload-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo-upload-container\",children:!logoPreview?/*#__PURE__*/_jsxs(\"label\",{className:\"logo-upload-box\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:question.accept,onChange:handleLogoChange,style:{display:'none'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"upload-prompt\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"upload-icon\",children:\"\\uD83D\\uDCE4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"upload-text\",children:\"Click to upload or drag and drop\"}),/*#__PURE__*/_jsx(\"p\",{className:\"upload-hint\",children:\"PNG, JPG, SVG (max. 5MB)\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"logo-preview-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:logoPreview,alt:\"Logo preview\",className:\"logo-preview\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"logo-info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"logo-filename\",children:logoFile===null||logoFile===void 0?void 0:logoFile.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"logo-filesize\",children:[((logoFile===null||logoFile===void 0?void 0:logoFile.size)/1024).toFixed(2),\" KB\"]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleRemoveLogo,className:\"remove-logo-btn\",children:\"\\u2715 Remove\"})]})}),question.hint&&/*#__PURE__*/_jsx(\"small\",{className:\"field-hint\",children:question.hint})]});case'text':return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:question.placeholder,onChange:e=>handleAnswerChange(question.id,e.target.value),value:surveyAnswers[question.id]||''}),question.hint&&/*#__PURE__*/_jsx(\"small\",{className:\"field-hint\",children:question.hint})]});case'textarea':return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"textarea\",{placeholder:question.placeholder,onChange:e=>handleAnswerChange(question.id,e.target.value),value:surveyAnswers[question.id]||'',rows:\"4\"}),question.hint&&/*#__PURE__*/_jsx(\"small\",{className:\"field-hint\",children:question.hint})]});case'time':return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"time\",onChange:e=>handleAnswerChange(question.id,e.target.value),value:surveyAnswers[question.id]||''}),question.hint&&/*#__PURE__*/_jsx(\"small\",{className:\"field-hint\",children:question.hint})]});case'multi-color':return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'0.875rem',marginBottom:'0.5rem',display:'block'},children:\"Number of colors (2-5):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"2\",max:\"5\",value:numColors,onChange:handleNumColorsChange,style:{marginBottom:'1rem',width:'100px'}}),Array.from({length:numColors},(_,index)=>{var _surveyAnswers$color_,_surveyAnswers$color_2,_surveyAnswers$color_3;return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'0.75rem',display:'flex',alignItems:'center',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"label\",{style:{minWidth:'70px',fontSize:'0.875rem'},children:[\"Color \",index+1,\":\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"color\",value:((_surveyAnswers$color_=surveyAnswers['color_theme'])===null||_surveyAnswers$color_===void 0?void 0:_surveyAnswers$color_[index])||'#000000',onChange:e=>handleColorChange(index,e.target.value),style:{width:'60px',height:'40px'}}),/*#__PURE__*/_jsx(\"div\",{style:{width:'80px',height:'40px',backgroundColor:((_surveyAnswers$color_2=surveyAnswers['color_theme'])===null||_surveyAnswers$color_2===void 0?void 0:_surveyAnswers$color_2[index])||'#000000',border:'2px solid var(--border-color)',borderRadius:'8px'}}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.75rem',color:'var(--text-muted)'},children:((_surveyAnswers$color_3=surveyAnswers['color_theme'])===null||_surveyAnswers$color_3===void 0?void 0:_surveyAnswers$color_3[index])||'#000000'})]},index);}),question.hint&&/*#__PURE__*/_jsx(\"small\",{className:\"field-hint\",children:question.hint})]});case'radio':return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"radio-group\",children:question.options.map(option=>/*#__PURE__*/_jsxs(\"label\",{className:\"radio-option\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:question.id,value:option,checked:surveyAnswers[question.id]===option,onChange:e=>handleAnswerChange(question.id,e.target.value)}),/*#__PURE__*/_jsx(\"span\",{children:option})]},option))}),question.hint&&/*#__PURE__*/_jsx(\"small\",{className:\"field-hint\",children:question.hint})]});case'checkbox':return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"checkbox-group\",children:question.options.map(option=>/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-option\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",value:option,checked:(surveyAnswers[question.id]||[]).includes(option),onChange:e=>{const currentAnswers=surveyAnswers[question.id]||[];let newAnswers;if(e.target.checked){newAnswers=[...currentAnswers,option];}else{newAnswers=currentAnswers.filter(a=>a!==option);}handleAnswerChange(question.id,newAnswers);}}),/*#__PURE__*/_jsx(\"span\",{children:option})]},option))}),question.hint&&/*#__PURE__*/_jsx(\"small\",{className:\"field-hint\",children:question.hint})]});default:return null;}};const questions=businessType?getQuestionsForBusinessType(businessType):[];const selectedBusiness=businessTypes.find(t=>t.value===businessType);return/*#__PURE__*/_jsxs(\"div\",{className:\"survey-container \".concat(isDarkMode?'dark':'light'),children:[/*#__PURE__*/_jsx(\"button\",{className:\"theme-toggle\",onClick:toggleTheme,children:isDarkMode?'‚òÄÔ∏è':'üåô'}),/*#__PURE__*/_jsx(\"button\",{className:\"skip-button\",onClick:()=>navigate('/login'),children:\"Skip Survey \\u2192\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"survey-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"survey-header\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/123.jpg\",alt:\"Logo\",className:\"survey-logo\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"survey-title\",children:\"Tell Us About Your Business\"}),/*#__PURE__*/_jsx(\"p\",{className:\"survey-subtitle\",children:\"Help us craft content that truly represents your brand\"}),/*#__PURE__*/_jsx(\"div\",{className:\"header-decoration\"})]}),currentStep==='business-type'&&/*#__PURE__*/_jsxs(\"div\",{className:\"business-type-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-banner\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-icon\",children:\"\\u2728\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-content\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Why we're asking:\"}),\" Your industry shapes everything\\u2014from visuals to tone. This helps our AI create content that feels authentic to your business.\"]})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"section-heading\",children:\"What industry are you in?\"}),/*#__PURE__*/_jsx(\"div\",{className:\"business-grid\",children:businessTypes.map(type=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleBusinessTypeSelect(type.value),className:\"business-card\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"business-emoji\",children:type.icon}),/*#__PURE__*/_jsx(\"h3\",{children:type.label}),/*#__PURE__*/_jsx(\"p\",{children:type.desc})]},type.value))})]}),currentStep==='questions'&&/*#__PURE__*/_jsxs(\"div\",{className:\"questions-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"business-badge\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"badge-icon\",children:selectedBusiness===null||selectedBusiness===void 0?void 0:selectedBusiness.icon}),/*#__PURE__*/_jsxs(\"div\",{className:\"badge-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:selectedBusiness===null||selectedBusiness===void 0?void 0:selectedBusiness.label}),/*#__PURE__*/_jsxs(\"p\",{children:[questions.length,\" quick questions \\u2022 ~3 minutes\"]})]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:e=>e.preventDefault(),children:[questions.map((question,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"question-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"question-label\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"question-number\",children:index+1}),/*#__PURE__*/_jsx(\"span\",{className:\"question-text\",children:question.question})]}),renderQuestionInput(question)]},question.id)),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-error\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"alert-icon\",children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsx(\"p\",{children:error})]}),success&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-success\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"alert-icon\",children:\"\\u2713\"}),/*#__PURE__*/_jsx(\"p\",{children:success})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setCurrentStep('business-type'),className:\"btn-secondary\",children:\"\\u2190 Back\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleSubmitSurvey,disabled:isSubmitting||uploadingLogo,className:\"btn-primary\",children:isSubmitting||uploadingLogo?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner\"}),uploadingLogo?'Processing logo...':'Submitting...']}):'Complete Survey'})]})]})]})]})]});};export default Survey;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Survey","navigate","currentStep","setCurrentStep","businessType","setBusinessType","surveyAnswers","setSurveyAnswers","isSubmitting","setIsSubmitting","isDarkMode","setIsDarkMode","error","setError","success","setSuccess","numColors","setNumColors","logoFile","setLogoFile","logoPreview","setLogoPreview","uploadingLogo","setUploadingLogo","saved","localStorage","getItem","toggleTheme","newMode","setItem","businessTypes","value","label","icon","desc","logoQuestion","id","question","type","placeholder","hint","accept","commonQuestions","getQuestionsForBusinessType","questionSets","options","handleBusinessTypeSelect","handleAnswerChange","questionId","prev","_objectSpread","handleNumColorsChange","e","count","parseInt","target","colors","Array","fill","handleColorChange","index","handleLogoChange","file","files","allowedTypes","includes","maxSize","size","reader","FileReader","onloadend","result","readAsDataURL","handleRemoveLogo","convertLogoToBase64","Promise","resolve","reject","onload","onerror","handleSubmitSurvey","_logoData","registeredUserId","console","log","logoData","base64Data","fileName","name","fileType","fileSize","data","finalAnswers","business_logo","surveyData","userId","answers","timestamp","Date","toISOString","hasLogo","logoFileName","response","fetch","method","headers","body","JSON","stringify","ok","errorText","text","Error","concat","json","setTimeout","renderQuestionInput","className","children","onChange","style","display","src","alt","toFixed","onClick","rows","fontSize","marginBottom","min","max","width","from","length","_","_surveyAnswers$color_","_surveyAnswers$color_2","_surveyAnswers$color_3","alignItems","gap","minWidth","height","backgroundColor","border","borderRadius","color","map","option","checked","currentAnswers","newAnswers","filter","a","questions","selectedBusiness","find","t","onSubmit","preventDefault","disabled"],"sources":["C:/Users/Vibek Rana/Pictures/frontend-main/src/components/Survey.js"],"sourcesContent":["//src/components/Survey.js - Final version with logo upload\r\nimport React, { useState, useEffect } from 'react';\r\nimport './Survey.css';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Survey = () => {\r\n  const navigate = useNavigate();\r\n  const [currentStep, setCurrentStep] = useState('business-type');\r\n  const [businessType, setBusinessType] = useState('');\r\n  const [surveyAnswers, setSurveyAnswers] = useState({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [isDarkMode, setIsDarkMode] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [numColors, setNumColors] = useState(2);\r\n  const [logoFile, setLogoFile] = useState(null);\r\n  const [logoPreview, setLogoPreview] = useState(null);\r\n  const [uploadingLogo, setUploadingLogo] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const saved = localStorage.getItem('theme');\r\n    if (saved === 'dark') setIsDarkMode(true);\r\n  }, []);\r\n\r\n  const toggleTheme = () => {\r\n    const newMode = !isDarkMode;\r\n    setIsDarkMode(newMode);\r\n    localStorage.setItem('theme', newMode ? 'dark' : 'light');\r\n  };\r\n\r\n  const businessTypes = [\r\n    { value: 'other', label: 'Other', icon: 'üè¢', desc: 'Any other business type' },\r\n    { value: 'finance', label: 'Finance', icon: 'üí∞', desc: 'Banking & Financial Services' },\r\n    { value: 'education', label: 'Education', icon: 'üéì', desc: 'Schools & Learning' },\r\n    { value: 'technology', label: 'Technology', icon: 'üíª', desc: 'Tech & Software' },\r\n    { value: 'real-estate', label: 'Real Estate', icon: 'üè†', desc: 'Property & Housing' },\r\n    { value: 'healthcare', label: 'Healthcare', icon: 'üè•', desc: 'Medical & Wellness' },\r\n    { value: 'ecommerce', label: 'E-commerce', icon: 'üõí', desc: 'Online Retail' },\r\n    { value: 'restaurant', label: 'Restaurant', icon: 'üçΩÔ∏è', desc: 'Food & Dining' }\r\n  ];\r\n\r\n  // Logo upload question that appears for all business types\r\n  const logoQuestion = {\r\n    id: 'business_logo',\r\n    question: 'Upload your business logo (optional but recommended)',\r\n    type: 'file',\r\n    placeholder: 'Choose your logo file',\r\n    hint: 'PNG, JPG, or SVG format. Max size: 5MB. This will be used on your promotional content.',\r\n    accept: 'image/png,image/jpeg,image/jpg,image/svg+xml'\r\n  };\r\n\r\n  const commonQuestions = [\r\n    logoQuestion, // Logo upload as first common question\r\n    { \r\n      id: 'contact_details', \r\n      question: 'Please provide your contact details for promotional image footers', \r\n      type: 'textarea', \r\n      placeholder: 'Website: www.example.com\\nContact: +1234567890',\r\n      hint: 'This will appear on your promotional content'\r\n    },\r\n    { \r\n      id: 'color_theme', \r\n      question: 'Choose your brand color theme for promotional images', \r\n      type: 'multi-color', \r\n      placeholder: 'Select colors',\r\n      hint: 'Pick 2-5 colors that represent your brand'\r\n    },\r\n    { \r\n      id: 'post_schedule_time', \r\n      question: 'What time should we schedule your daily social media posts?', \r\n      type: 'time', \r\n      placeholder: 'Select time',\r\n      hint: 'Choose the best time to reach your audience'\r\n    }\r\n  ];\r\n\r\n  const getQuestionsForBusinessType = (type) => {\r\n    const questionSets = {\r\n      'finance': [\r\n        { id: 'financial_products', question: 'What financial products/services do you offer?', type: 'textarea', placeholder: 'e.g., Loans, Investment, Insurance...', hint: 'Be specific about your main offerings' },\r\n        { id: 'target_audience', question: 'Who is your target audience?', type: 'text', placeholder: 'e.g., individuals, businesses, investors', hint: 'This helps us tailor your content' },\r\n        { id: 'social_tone', question: 'What tone should your content convey?', type: 'checkbox', options: ['Trustworthy', 'Professional', 'Approachable'], hint: 'You can select multiple' },\r\n        { id: 'image_focus', question: 'What should your visuals emphasize?', type: 'checkbox', options: ['Trust and security', 'Growth and success', 'Expert advice'] },\r\n        { id: 'visual_style', question: 'Visual style preference:', type: 'checkbox', options: ['Professional corporate settings', 'Personal customer stories'] },\r\n        { id: 'include_data_visuals', question: 'Include infographics or data visualizations?', type: 'radio', options: ['Yes', 'No', 'Sometimes'] },\r\n        ...commonQuestions\r\n      ],\r\n      'education': [\r\n        { id: 'educational_services', question: 'What educational programs do you offer?', type: 'textarea', placeholder: 'Describe your courses, degrees, training...', hint: 'Help us understand your offerings' },\r\n        { id: 'primary_audience', question: 'Who are your primary audiences?', type: 'checkbox', options: ['Students', 'Parents', 'Faculty', 'Alumni', 'Community'] },\r\n        { id: 'key_messages', question: 'Key messages about your institution:', type: 'textarea', placeholder: 'What makes your institution special?' },\r\n        { id: 'image_showcase', question: 'What should visuals showcase?', type: 'checkbox', options: ['Student achievements', 'Campus life', 'Faculty expertise'] },\r\n        { id: 'learning_format', question: 'Highlight which format?', type: 'checkbox', options: ['In-person activities', 'Online learning platforms'] },\r\n        { id: 'feature_content', question: 'Feature in your content:', type: 'checkbox', options: ['Events', 'Guest lectures', 'Community involvement'] },\r\n        ...commonQuestions\r\n      ],\r\n      'technology': [\r\n        { id: 'tech_products', question: 'Main tech products/services:', type: 'textarea', placeholder: 'SaaS, Hardware, Apps, Consulting...', hint: 'What technology solutions do you provide?' },\r\n        { id: 'target_audience', question: 'Target audience:', type: 'checkbox', options: ['Tech professionals', 'Consumers', 'Businesses', 'Startups', 'Enterprise'] },\r\n        { id: 'brand_values', question: 'Brand values to convey:', type: 'checkbox', options: ['Innovation', 'Reliability', 'User-friendliness', 'Cutting-edge', 'Trustworthy'] },\r\n        { id: 'design_preference', question: 'Design style preference:', type: 'checkbox', options: ['Futuristic, sleek designs', 'Practical, real-world visuals'] },\r\n        { id: 'image_focus', question: 'Image focus:', type: 'checkbox', options: ['Product demonstrations', 'Conceptual innovation'] },\r\n        { id: 'include_interactive_content', question: 'Include animated/interactive visuals?', type: 'radio', options: ['Yes', 'No', 'Sometimes'] },\r\n        ...commonQuestions\r\n      ],\r\n      'real-estate': [\r\n        { id: 'property_specialization', question: 'Property specialization:', type: 'checkbox', options: ['Residential', 'Commercial', 'Luxury', 'Rental', 'Investment'] },\r\n        { id: 'main_clients', question: 'Main clients:', type: 'checkbox', options: ['Buyers', 'Renters', 'Investors', 'First-time buyers', 'Commercial clients'] },\r\n        { id: 'selling_points', question: 'Key selling points:', type: 'textarea', placeholder: 'Location, pricing, amenities...' },\r\n        { id: 'image_showcase', question: 'Showcase in visuals:', type: 'checkbox', options: ['Property interiors', 'Neighborhood lifestyles', 'Renovations'] },\r\n        { id: 'feature_client_stories', question: 'Feature client testimonials?', type: 'radio', options: ['Yes', 'No', 'Sometimes'] },\r\n        ...commonQuestions\r\n      ],\r\n      'healthcare': [\r\n        { id: 'healthcare_services', question: 'Healthcare services/specialties:', type: 'textarea', placeholder: 'General care, Surgery, Pediatrics...', hint: 'List your main services' },\r\n        { id: 'primary_audience', question: 'Primary audience:', type: 'checkbox', options: ['Patients', 'Families', 'Healthcare professionals', 'Community', 'Insurance providers'] },\r\n        { id: 'core_values', question: 'Core values to communicate:', type: 'checkbox', options: ['Trust', 'Care', 'Innovation', 'Expertise', 'Compassion'] },\r\n        { id: 'image_highlight', question: 'Highlight in images:', type: 'checkbox', options: ['Medical staff', 'Patient care', 'Healthcare technology'] },\r\n        { id: 'visual_focus', question: 'Visual focus:', type: 'checkbox', options: ['Wellness campaigns', 'Testimonials', 'Facilities'] },\r\n        { id: 'include_treatment_visuals', question: 'Include treatment visuals/case studies?', type: 'radio', options: ['Yes', 'No', 'With patient consent only'] },\r\n        ...commonQuestions\r\n      ],\r\n      'ecommerce': [\r\n        { id: 'product_types', question: 'Main product categories:', type: 'textarea', placeholder: 'Fashion, Electronics, Home goods...', hint: 'What do you sell?' },\r\n        { id: 'main_customers', question: 'Main customer segments:', type: 'text', placeholder: 'Young adults, professionals, families...' },\r\n        { id: 'brand_personality', question: 'Brand personality:', type: 'checkbox', options: ['Fun', 'Professional', 'Creative', 'Trendy', 'Trustworthy'] },\r\n        { id: 'image_style', question: 'Image style:', type: 'checkbox', options: ['Product-focused images', 'Lifestyle shots'] },\r\n        { id: 'content_highlight', question: 'Highlight in content:', type: 'checkbox', options: ['Seasonal sales', 'New arrivals', 'Behind-the-scenes'] },\r\n        { id: 'ugc_strategy', question: 'User-generated content strategy?', type: 'radio', options: ['Yes', 'No', 'Considering it'] },\r\n        ...commonQuestions\r\n      ],\r\n      'restaurant': [\r\n        { id: 'cuisine_experience', question: 'Cuisine & dining experience:', type: 'textarea', placeholder: 'Italian fine dining, casual cafe...', hint: 'Describe your restaurant concept' },\r\n        { id: 'typical_customers', question: 'Typical customers:', type: 'text', placeholder: 'Families, couples, business professionals...' },\r\n        { id: 'unique_qualities', question: 'Unique qualities/atmosphere:', type: 'textarea', placeholder: 'What makes your restaurant special?' },\r\n        { id: 'image_preference', question: 'Image preferences:', type: 'checkbox', options: ['Food presentation', 'Dining ambiance', 'Kitchen activity'] },\r\n        { id: 'content_highlight', question: 'Highlight in content:', type: 'checkbox', options: ['Seasonal menus', 'Special events', 'Customer interactions'] },\r\n        { id: 'sustainability', question: 'Promote sustainable sourcing/dietary options?', type: 'radio', options: ['Yes', 'No', 'Sometimes'] },\r\n        ...commonQuestions\r\n      ],\r\n      'other': [\r\n        { id: 'business_description', question: 'Business type & description:', type: 'textarea', placeholder: 'Tell us about your business...', hint: 'Be as detailed as possible' },\r\n        { id: 'target_audience', question: 'Target audience:', type: 'text', placeholder: 'Who are your customers?' },\r\n        { id: 'key_messages', question: 'Key messages/values:', type: 'textarea', placeholder: 'What do you want to communicate?', hint: 'Your brand message' },\r\n        { id: 'image_style', question: 'Preferred image style:', type: 'checkbox', options: ['Professional', 'Casual', 'Artistic', 'Modern', 'Traditional'] },\r\n        { id: 'visual_focus', question: 'Visual focus:', type: 'checkbox', options: ['Products', 'Services', 'Customer stories'] },\r\n        { id: 'preferred_themes', question: 'Preferred colors/moods/themes:', type: 'textarea', placeholder: 'Describe your visual preferences...' },\r\n        ...commonQuestions\r\n      ]\r\n    };\r\n\r\n    return questionSets[type] || questionSets['other'];\r\n  };\r\n\r\n  const handleBusinessTypeSelect = (type) => {\r\n    setBusinessType(type);\r\n    setCurrentStep('questions');\r\n  };\r\n\r\n  const handleAnswerChange = (questionId, value) => {\r\n    setSurveyAnswers(prev => ({\r\n      ...prev,\r\n      [questionId]: value\r\n    }));\r\n  };\r\n\r\n  const handleNumColorsChange = (e) => {\r\n    const count = parseInt(e.target.value, 10);\r\n    setNumColors(count);\r\n    const colors = Array(count).fill('#000000');\r\n    handleAnswerChange('color_theme', colors);\r\n  };\r\n\r\n  const handleColorChange = (index, value) => {\r\n    const colors = [...(surveyAnswers['color_theme'] || Array(numColors).fill('#000000'))];\r\n    colors[index] = value;\r\n    handleAnswerChange('color_theme', colors);\r\n  };\r\n\r\n  // Handle logo file selection\r\n  const handleLogoChange = (e) => {\r\n    const file = e.target.files[0];\r\n    \r\n    if (!file) return;\r\n\r\n    // Validate file type\r\n    const allowedTypes = ['image/png', 'image/jpeg', 'image/jpg', 'image/svg+xml'];\r\n    if (!allowedTypes.includes(file.type)) {\r\n      setError('Please upload a PNG, JPG, or SVG file');\r\n      return;\r\n    }\r\n\r\n    // Validate file size (5MB max)\r\n    const maxSize = 5 * 1024 * 1024; // 5MB in bytes\r\n    if (file.size > maxSize) {\r\n      setError('Logo file size must be less than 5MB');\r\n      return;\r\n    }\r\n\r\n    setLogoFile(file);\r\n    \r\n    // Create preview URL\r\n    const reader = new FileReader();\r\n    reader.onloadend = () => {\r\n      setLogoPreview(reader.result);\r\n    };\r\n    reader.readAsDataURL(file);\r\n    \r\n    setError('');\r\n  };\r\n\r\n  // Remove logo\r\n  const handleRemoveLogo = () => {\r\n    setLogoFile(null);\r\n    setLogoPreview(null);\r\n    handleAnswerChange('business_logo', null);\r\n  };\r\n\r\n  // Convert logo to base64 for storage\r\n  const convertLogoToBase64 = (file) => {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => resolve(reader.result);\r\n      reader.onerror = error => reject(error);\r\n    });\r\n  };\r\n\r\n  const handleSubmitSurvey = async () => {\r\n    setIsSubmitting(true);\r\n    setError('');\r\n\r\n    try {\r\n      // CRITICAL: Get the registered userId (username) from localStorage\r\n      const registeredUserId = localStorage.getItem('registeredUserId') || \r\n                              localStorage.getItem('username') || \r\n                              null;\r\n      \r\n      console.log('Survey submission - userId from localStorage:', registeredUserId);\r\n\r\n      if (!registeredUserId) {\r\n        setError('Please complete registration first before submitting survey');\r\n        setIsSubmitting(false);\r\n        return;\r\n      }\r\n\r\n      // Convert logo to base64 if uploaded\r\n      let logoData = null;\r\n      if (logoFile) {\r\n        setUploadingLogo(true);\r\n        try {\r\n          const base64Data = await convertLogoToBase64(logoFile);\r\n          logoData = {\r\n            fileName: logoFile.name,\r\n            fileType: logoFile.type,\r\n            fileSize: logoFile.size,\r\n            data: base64Data\r\n          };\r\n          console.log('Logo converted to base64, size:', logoFile.size, 'bytes');\r\n        } catch (error) {\r\n          console.error('Error converting logo:', error);\r\n          setError('Failed to process logo. Continuing without it...');\r\n        } finally {\r\n          setUploadingLogo(false);\r\n        }\r\n      }\r\n\r\n      // Include logo in survey answers\r\n      const finalAnswers = {\r\n        ...surveyAnswers,\r\n        business_logo: logoData\r\n      };\r\n\r\n      const surveyData = {\r\n        userId: registeredUserId, // This will be the username\r\n        businessType,\r\n        answers: finalAnswers,\r\n        timestamp: new Date().toISOString()\r\n      };\r\n\r\n      console.log('Submitting survey data:', {\r\n        userId: surveyData.userId,\r\n        businessType: surveyData.businessType,\r\n        hasLogo: !!logoData,\r\n        logoFileName: logoData?.fileName\r\n      });\r\n\r\n      const response = await fetch(\r\n        'https://4fqbpp1yya.execute-api.ap-south-1.amazonaws.com/prod/user/register',\r\n        {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({ surveyData })\r\n        }\r\n      );\r\n\r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        throw new Error(`Failed to submit survey: ${errorText}`);\r\n      }\r\n\r\n      const result = await response.json();\r\n      console.log('Survey submission result:', result);\r\n      \r\n      setSuccess('Survey completed successfully! Redirecting to login...');\r\n      \r\n      setTimeout(() => {\r\n        navigate('/login');\r\n      }, 1500);\r\n\r\n    } catch (error) {\r\n      console.error('Error processing survey:', error);\r\n      setError('Error processing survey. Please try again.');\r\n    } finally {\r\n      setIsSubmitting(false);\r\n      setUploadingLogo(false);\r\n    }\r\n  };\r\n\r\n  const renderQuestionInput = (question) => {\r\n    switch (question.type) {\r\n      case 'file':\r\n        return (\r\n          <div className=\"logo-upload-section\">\r\n            <div className=\"logo-upload-container\">\r\n              {!logoPreview ? (\r\n                <label className=\"logo-upload-box\">\r\n                  <input\r\n                    type=\"file\"\r\n                    accept={question.accept}\r\n                    onChange={handleLogoChange}\r\n                    style={{ display: 'none' }}\r\n                  />\r\n                  <div className=\"upload-prompt\">\r\n                    <span className=\"upload-icon\">üì§</span>\r\n                    <p className=\"upload-text\">Click to upload or drag and drop</p>\r\n                    <p className=\"upload-hint\">PNG, JPG, SVG (max. 5MB)</p>\r\n                  </div>\r\n                </label>\r\n              ) : (\r\n                <div className=\"logo-preview-container\">\r\n                  <img \r\n                    src={logoPreview} \r\n                    alt=\"Logo preview\" \r\n                    className=\"logo-preview\"\r\n                  />\r\n                  <div className=\"logo-info\">\r\n                    <p className=\"logo-filename\">{logoFile?.name}</p>\r\n                    <p className=\"logo-filesize\">\r\n                      {(logoFile?.size / 1024).toFixed(2)} KB\r\n                    </p>\r\n                  </div>\r\n                  <button \r\n                    type=\"button\"\r\n                    onClick={handleRemoveLogo}\r\n                    className=\"remove-logo-btn\"\r\n                  >\r\n                    ‚úï Remove\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n            {question.hint && <small className=\"field-hint\">{question.hint}</small>}\r\n          </div>\r\n        );\r\n      \r\n      case 'text':\r\n        return (\r\n          <>\r\n            <input\r\n              type=\"text\"\r\n              placeholder={question.placeholder}\r\n              onChange={(e) => handleAnswerChange(question.id, e.target.value)}\r\n              value={surveyAnswers[question.id] || ''}\r\n            />\r\n            {question.hint && <small className=\"field-hint\">{question.hint}</small>}\r\n          </>\r\n        );\r\n      \r\n      case 'textarea':\r\n        return (\r\n          <>\r\n            <textarea\r\n              placeholder={question.placeholder}\r\n              onChange={(e) => handleAnswerChange(question.id, e.target.value)}\r\n              value={surveyAnswers[question.id] || ''}\r\n              rows=\"4\"\r\n            />\r\n            {question.hint && <small className=\"field-hint\">{question.hint}</small>}\r\n          </>\r\n        );\r\n      \r\n      case 'time':\r\n        return (\r\n          <>\r\n            <input\r\n              type=\"time\"\r\n              onChange={(e) => handleAnswerChange(question.id, e.target.value)}\r\n              value={surveyAnswers[question.id] || ''}\r\n            />\r\n            {question.hint && <small className=\"field-hint\">{question.hint}</small>}\r\n          </>\r\n        );\r\n      \r\n      case 'multi-color':\r\n        return (\r\n          <div>\r\n            <label style={{ fontSize: '0.875rem', marginBottom: '0.5rem', display: 'block' }}>\r\n              Number of colors (2-5):\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              min=\"2\"\r\n              max=\"5\"\r\n              value={numColors}\r\n              onChange={handleNumColorsChange}\r\n              style={{ marginBottom: '1rem', width: '100px' }}\r\n            />\r\n            {Array.from({ length: numColors }, (_, index) => (\r\n              <div key={index} style={{ marginBottom: '0.75rem', display: 'flex', alignItems: 'center', gap: '1rem' }}>\r\n                <label style={{ minWidth: '70px', fontSize: '0.875rem' }}>Color {index + 1}:</label>\r\n                <input\r\n                  type=\"color\"\r\n                  value={surveyAnswers['color_theme']?.[index] || '#000000'}\r\n                  onChange={(e) => handleColorChange(index, e.target.value)}\r\n                  style={{ width: '60px', height: '40px' }}\r\n                />\r\n                <div\r\n                  style={{\r\n                    width: '80px',\r\n                    height: '40px',\r\n                    backgroundColor: surveyAnswers['color_theme']?.[index] || '#000000',\r\n                    border: '2px solid var(--border-color)',\r\n                    borderRadius: '8px'\r\n                  }}\r\n                ></div>\r\n                <span style={{ fontSize: '0.75rem', color: 'var(--text-muted)' }}>\r\n                  {surveyAnswers['color_theme']?.[index] || '#000000'}\r\n                </span>\r\n              </div>\r\n            ))}\r\n            {question.hint && <small className=\"field-hint\">{question.hint}</small>}\r\n          </div>\r\n        );\r\n      \r\n      case 'radio':\r\n        return (\r\n          <>\r\n            <div className=\"radio-group\">\r\n              {question.options.map(option => (\r\n                <label key={option} className=\"radio-option\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name={question.id}\r\n                    value={option}\r\n                    checked={surveyAnswers[question.id] === option}\r\n                    onChange={(e) => handleAnswerChange(question.id, e.target.value)}\r\n                  />\r\n                  <span>{option}</span>\r\n                </label>\r\n              ))}\r\n            </div>\r\n            {question.hint && <small className=\"field-hint\">{question.hint}</small>}\r\n          </>\r\n        );\r\n      \r\n      case 'checkbox':\r\n        return (\r\n          <>\r\n            <div className=\"checkbox-group\">\r\n              {question.options.map(option => (\r\n                <label key={option} className=\"checkbox-option\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    value={option}\r\n                    checked={(surveyAnswers[question.id] || []).includes(option)}\r\n                    onChange={(e) => {\r\n                      const currentAnswers = surveyAnswers[question.id] || [];\r\n                      let newAnswers;\r\n                      if (e.target.checked) {\r\n                        newAnswers = [...currentAnswers, option];\r\n                      } else {\r\n                        newAnswers = currentAnswers.filter(a => a !== option);\r\n                      }\r\n                      handleAnswerChange(question.id, newAnswers);\r\n                    }}\r\n                  />\r\n                  <span>{option}</span>\r\n                </label>\r\n              ))}\r\n            </div>\r\n            {question.hint && <small className=\"field-hint\">{question.hint}</small>}\r\n          </>\r\n        );\r\n      \r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  const questions = businessType ? getQuestionsForBusinessType(businessType) : [];\r\n  const selectedBusiness = businessTypes.find(t => t.value === businessType);\r\n\r\n  return (\r\n    <div className={`survey-container ${isDarkMode ? 'dark' : 'light'}`}>\r\n      <button className=\"theme-toggle\" onClick={toggleTheme}>\r\n        {isDarkMode ? '‚òÄÔ∏è' : 'üåô'}\r\n      </button>\r\n      <button className=\"skip-button\" onClick={() => navigate('/login')}>\r\n        Skip Survey ‚Üí\r\n      </button>\r\n\r\n      <div className=\"survey-box\">\r\n        <div className=\"survey-header\">\r\n          <img src=\"/123.jpg\" alt=\"Logo\" className=\"survey-logo\" />\r\n          <h1 className=\"survey-title\">Tell Us About Your Business</h1>\r\n          <p className=\"survey-subtitle\">Help us craft content that truly represents your brand</p>\r\n          <div className=\"header-decoration\"></div>\r\n        </div>\r\n\r\n        {currentStep === 'business-type' && (\r\n          <div className=\"business-type-section\">\r\n            <div className=\"info-banner\">\r\n              <span className=\"info-icon\">‚ú®</span>\r\n              <div className=\"info-content\">\r\n                <strong>Why we're asking:</strong> Your industry shapes everything‚Äîfrom visuals to tone. \r\n                This helps our AI create content that feels authentic to your business.\r\n              </div>\r\n            </div>\r\n\r\n            <h2 className=\"section-heading\">What industry are you in?</h2>\r\n            \r\n            <div className=\"business-grid\">\r\n              {businessTypes.map(type => (\r\n                <button\r\n                  key={type.value}\r\n                  onClick={() => handleBusinessTypeSelect(type.value)}\r\n                  className=\"business-card\"\r\n                >\r\n                  <span className=\"business-emoji\">{type.icon}</span>\r\n                  <h3>{type.label}</h3>\r\n                  <p>{type.desc}</p>\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {currentStep === 'questions' && (\r\n          <div className=\"questions-section\">\r\n            <div className=\"business-badge\">\r\n              <span className=\"badge-icon\">{selectedBusiness?.icon}</span>\r\n              <div className=\"badge-info\">\r\n                <h3>{selectedBusiness?.label}</h3>\r\n                <p>{questions.length} quick questions ‚Ä¢ ~3 minutes</p>\r\n              </div>\r\n            </div>\r\n\r\n            <form onSubmit={(e) => e.preventDefault()}>\r\n              {questions.map((question, index) => (\r\n                <div key={question.id} className=\"question-group\">\r\n                  <label className=\"question-label\">\r\n                    <span className=\"question-number\">{index + 1}</span>\r\n                    <span className=\"question-text\">{question.question}</span>\r\n                  </label>\r\n                  {renderQuestionInput(question)}\r\n                </div>\r\n              ))}\r\n\r\n              {error && (\r\n                <div className=\"alert alert-error\">\r\n                  <span className=\"alert-icon\">‚ö†Ô∏è</span>\r\n                  <p>{error}</p>\r\n                </div>\r\n              )}\r\n              \r\n              {success && (\r\n                <div className=\"alert alert-success\">\r\n                  <span className=\"alert-icon\">‚úì</span>\r\n                  <p>{success}</p>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"action-buttons\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setCurrentStep('business-type')}\r\n                  className=\"btn-secondary\"\r\n                >\r\n                  ‚Üê Back\r\n                </button>\r\n                \r\n                <button\r\n                  type=\"button\"\r\n                  onClick={handleSubmitSurvey}\r\n                  disabled={isSubmitting || uploadingLogo}\r\n                  className=\"btn-primary\"\r\n                >\r\n                  {(isSubmitting || uploadingLogo) ? (\r\n                    <>\r\n                      <span className=\"spinner\"></span>\r\n                      {uploadingLogo ? 'Processing logo...' : 'Submitting...'}\r\n                    </>\r\n                  ) : (\r\n                    'Complete Survey'\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Survey;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}